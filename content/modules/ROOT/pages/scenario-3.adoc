[#scenario-03,cols="3"]
.Scenario #3: Gateway Issues
|===
| **Mode** | **Components** | **Namespace**

| Hard
| Automation Controller, Gateway
| `aap-rh1`
|===

### üìù Objectives

* Log in to the **AAP Gateway UI** (if possible).
* Observe connectivity failures
* Diagnose two separate issues
* Resolve both issues to restore full functionality.

---

### üõ†Ô∏è Prerequisites: Setup and Break

#### 1. Initial Deployment

[.instruction]
====
Execute the following command, then select **Scenario 3** when prompted.
====

[source,bash]
----
ansible-playbook site.yml -t deploy
----

[NOTE]
====
The deployment can take up to 15 minutes, now would be a good time to take a break, ask any questions, hydrate.
====

#### 2. Introduce Failure (Break)

[.instruction]
====
Execute the following command, then select **Scenario 3** when prompted.
====

[source,bash]
----
ansible-playbook site.yml -t break

----

### ‚úÖ Troubleshooting and Resolution

#### Step 1: Check Pod Logs

[.instruction]
====
**CLI Method:** Review Gateway pod logs.
====

[source,bash]
----
oc logs -n aap-rh1 <Gateway-pod-name>
oc get svc -n aap-rh1
----

[.instruction]
====
**UI Method:**
1. Navigate to **Workloads** -> **Pods** and view the logs for the `aap-gateway` pod forerrors.
2. Navigate to **Networking** -> **Services** in the OpenShift console. Check for any missing service.
====

#### Step 2: Check Gateway Access and Credentials

[.instruction]
====
Attempt to log into the AAP Gateway UI. Review gateway pod logs
====

#### Step 3: Implement the Fixes

[.instruction]
====
Once you have diagnosed the issues, follow the specific resolution steps located in the solution document: **xref:scenario-3-solution.adoc[3.1. Solution: Database/Gateway Issues]**
====

#### Step 4: Verify Resolution

[.instruction]
====
Verify all pods are running and ready, then successfully log into the AAP UI.
====

[source,bash]
----
oc get pods -n aap-rh1
----

---

### üí° Hint

* Use `oc get all` to look for missing or deleted Kubernetes objects, focusing on **Services** first.
* For authentication errors, you must use the appropriate **AAP management utility** to reset the internal password back to the value expected by the Operator/CR.