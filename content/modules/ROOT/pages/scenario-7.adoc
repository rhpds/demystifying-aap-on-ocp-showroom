:imagesdir: images
Scenario #7: Ansible Lightspeed Intelligent Assistant (ALIA) Issues

[#scenario-07,cols="3"]
.Scenario #7: Ansible Lightspeed Intelligent Assistant (ALIA) Issues
|===
| **Mode** | **Components** | **Namespace**

| Hard
| Ansible Lightspeed Intelligent Assistant (ALIA)
| `aap-rh1`
|===

### üìù Objectives

* Log in to the **AAP Gateway UI** successfully.
* Observe that the **ALIA** chat icon is missing from the interface.
+
image::chat_icon.png[Reference of missing chat icon, width=317, align="left"]
* Diagnose the underlying issue preventing the ALIA UI component from activating.
* Resolve the issue(s) to restore the assistant.

---

### üí° Hint

* The ALIA service requires a valid connection to a Large Language Model (LLM). Review the logs for the `lightspeed-api` and `chatbot` pods.
* The required model information is available below as well as on the **Lab Resource Page**.
** Model API: `{litellm_api_base_url}`
** Model API Key: `{litellm_virtual_key}`
** Available Model: `{litellm_available_models_list}`

---

### üõ†Ô∏è Prerequisites: Setup and Break

#### 1. Initial Deployment

[.instruction]
====
Execute the following command, then select **Scenario 7** when prompted.
====

[source,bash]
----
ansible-playbook site.yml -t deploy
----

#### 2. Introduce Failure (Break)

[.instruction]
====
Execute the following command, ensuring you include the correct Model API Key for the variable chatbot_token. Select **Scenario 7** when prompted.
====

[source,bash,subs="attributes"]
----
ansible-playbook site.yml -t break -e chatbot_token={litellm_virtual_key}
----

---

### ‚úÖ Steps to Resolution

#### Step 1: Inspect Pod Logs

[.instruction]
====
Inspect the logs for the `lightspeed-api` and `chatbot` pods.
====

[source,bash]
----
oc logs -n aap-rh1 <lightspeed-api-pod-name>
oc logs -n aap-rh1 <chatbot-pod-name>
----

#### Step 2: Implement Fixes

[.instruction]
====
Once you have diagnosed the issues, run the fix task or follow the specific resolution steps located in the solution document: **xref:scenario-7-solution.adoc[7.1. Solution: Lightspeed Issues]**
====

#### Step 3: Verify Resolution

[.instruction]
====
After applying the fixes and allowing reconciliation, attempt to interact with Ansible Lightspeed Intelligent Assistant.
====