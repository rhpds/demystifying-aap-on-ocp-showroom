= Scenario #2: Diagnose Stuck Automation Hub Deployment
:toc: left
:toclevels: 3
:experimental:

[[scenario-2]]
== Scenario Overview

[cols="1,3"]
|===
| **Mode** | Easy
| **Components** | Automation Hub
| **Target Namespace** | `scenario-2`
| **Objective** | Find out why Automation Hub is stuck during the deployment and identify the failing resource.
|===

== Steps to Reproduce the Issue

Follow these steps to deploy the scenario and induce the failure state.

. Run the main deployment playbook:
+
[source, bash]
----
ansible-playbook site.yml -t deploy
----

. Run the playbook to introduce the fault:
+
[source, bash]
----
ansible-playbook site.yml -t break
----
+
[NOTE]
====
After running the `break` tag, the Automation Hub UI will become unavailable or the deployment will stall. Do not attempt to access the UI; focus solely on troubleshooting the cluster resources.
====

== Objectives for Troubleshooting

* Examine the status of the `AnsibleAutomationPlatform` Custom Resource (CR) in the `scenario-2` namespace.
* Check the logs of the **Automation Hub Operator Pod** to determine the point of failure.
* Identify the specific configuration or dependent resource that the Operator is unable to reconcile.

== Expected Outcome

You should be able to identify a specific resource (like a Secret, ConfigMap, or Deployment) that is preventing the Operator from reaching the `Ready` status.