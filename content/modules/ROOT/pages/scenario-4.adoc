# Scenario #4: Gateway Pod Issues

[#scenario-04,cols="3"]
.Scenario #4: Gateway Pod Issues
|===
| **Mode** | **Components** | **Namespace**

| Easy/Medium
| Gateway
| `aap-rh1`
|===

### üìù Objectives

* Log in to the **AAP Gateway UI**.
* Observe multiple core components failing to deploy or stabilize.
* Diagnose two distinct issues
* Resolve both issues.

---

### üí° Hint

* Use `oc describe pod <failing-pod-name>`

---

### üõ†Ô∏è Prerequisites: Setup and Break

#### 1. Initial Deployment

[.instruction]
====
Execute the following command, then select **Scenario 4** when prompted.
====

[source,bash]
----
ansible-playbook site.yml -t deploy
----

#### 2. Introduce Failure (Break)

[.instruction]
====
Execute the following command, then select **Scenario 4** when prompted.
====

[source,bash]
----
ansible-playbook site.yml -t break
----

### ‚úÖ Steps to Resolution

#### Step 1: Check Pod Logs

[.instruction]
====
Identify the failing pods and describe them to find the failure reason.
====

[source,bash]
----
oc get pods -n aap-rh1
oc describe pod <failing-pod> -n aap-rh1
----

#### Step 2: Implement the Fixes

[.instruction]
====
Once you have diagnosed the issues, follow the specific resolution steps located in the solution document: **xref:scenario-4-solution.adoc[4.1. Solution: Gateway Issues]**
====

#### Step 3: Verify Resolution

[.instruction]
====
Verify all pods are running and ready, then successfully log into the AAP UI.
====

[source,bash]
----
oc get pods -n aap-rh1
----

---

### üí° Hint

* There are two issues here, try to resolve both of them before running the fix playbook. View the solution document if stuck. Run the fix playbook to fix both issues. 
[.instruction]
====
Execute the following command, then select **Scenario 4** when prompted.
====

[source,bash]
----
ansible-playbook site.yml -t fix

----