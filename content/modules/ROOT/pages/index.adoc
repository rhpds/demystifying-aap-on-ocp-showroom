= Demystifying Ansible Automation Platform on OpenShift Container Platform Lab
:sectnums:
:toc: left
:toclevels: 2
:author: Your Name/Team Name (Optional)

[#welcome]
== üëã Welcome to the Lab!

Welcome to the **Demystifying Ansible Automation Platform (AAP) on OpenShift Container Platform (OCP)** lab!

In this lab, we are going to dive deep into troubleshooting Ansible Automation Platform deployments on OpenShift. You will work through practical exercises focused on the AAP Operator to help demonstrate where to look to find out what is going on with the deployment and how to fix some of the most common issues the Ansible SBR team encounters.

---

[#environment]
== üñ•Ô∏è Your Environment

* Each student has their own **Single Node OpenShift cluster** with cluster administrator access.
* All of the work for the lab will be done on the **Bastion Host** provided.

[TIP]
.Bastion Host Pre-Configuration
====
The Bastion Host has been pre-configured with:

* The `oc` client (OpenShift CLI).
* The required Ansible tasks, modules, and collections.
* All other resources needed to complete the lab.
====

---

[#scenarios]
== üß© Lab Scenarios Overview

You have **8 scenarios** to work through, covering each major component of Ansible Automation Platform:

* **Gateway**
* **Automation Execution (Automation Controller)**
* **Automation Content (Automation Hub)**
* **Event-Driven Ansible (EDA)**
* **Ansible Lightspeed Intelligent Assistant (ALIA)**

### The Lab Workflow

The core troubleshooting workflow for each scenario is:

1. Run the playbook to **deploy** the scenario environment.
2. Run the playbook to **break** the environment with a known issue.
3. **Troubleshoot** the issue using logs, `oc describe`, and your existing knowledge.
4. Once resolved (or if stuck), find the **solution** and run the playbook to **fix** the scenario.

---

[#get-started]
== üöÄ Getting Started

To begin the learning lab, please complete the following setup and initialization steps:

### SSH into the Bastion Host

Establish an SSH connection to the lab's **Bastion Host** using the provided credentials.

[source,bash,subs="attributes"]
----
{ssh_command}
----

[NOTE]
====
Use the following password when prompted: **{bastion_ssh_password}**
====

### Access OpenShift Cluster

Access the cluster via the browser UI and confirm command-line access.

#### OpenShift UI Access

The cluster console is available at the following URL.

[.instruction]
====
Open the following URL in your browser:
**{openshift_console_url}**
====

[NOTE]
====
* **Username:** {openshift_cluster_admin_username}
* **Password:** {openshift_cluster_admin_password}
====

#### Verify OpenShift CLI

The bastion host is pre-authenticated to your cluster.
Confirm that your `oc` (OpenShift CLI) connection is valid from the Bastion Host.

[source,bash]
----
oc whoami
----


### Deploy Initial Resources

Run the main Ansible playbook to deploy the core AAP resources and prepare the environment.

[.instruction]
====
Execute the deployment command:
====

[source,bash]
----
cd rh1-aap-troubleshooting
ansible-playbook site.yml
----

[.output]
====
We are going to start on Scenario 2.
You will be prompted to select a scenario. Select **xref:scenario-2.adoc[2 Automation Hub Issues]** to begin the troubleshooting exercises (Skip Scenario 2 for now)
====

---

### Download the AAP Manifest

You must transfer the AAP manifest from the Bastion Host to your local workstation to complete the registration steps later in the lab.

[.instruction]
====
Execute the following `scp` command from a terminal on your **local machine** (not from within the Bastion SSH session).
====

[source,bash]
----
scp -P {bastion_ssh_port} {bastion_ssh_user_name}@{bastion_public_hostname}:/home/{bastion_ssh_user_name}/manifest_demystify_aap.zip .
----

[NOTE]
====
* Ensure you include the period (`.`) at the end of the command to signify the current directory as the destination.
* Use the same password provided for your Bastion SSH access.
====

++++
<p style="text-align: center; font-size: 1.5em; margin-top: 2em;"><strong>Good luck and have fun!</strong></p>
++++
