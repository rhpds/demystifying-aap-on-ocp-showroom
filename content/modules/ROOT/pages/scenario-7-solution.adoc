= üí° Scenario #7: Solutions and Resolution

This page provides the detailed solution for the issue presented in Scenario #7, which involves an incorrect Large Language Model (LLM) configuration for Ansible Lightspeed Intelligent Assistant (ALIA).

---

## üõë Problem: Invalid Large Language Model (LLM) Configuration

### Diagnosis

The **Ansible Lightspeed Intelligent Assistant (ALIA)** service was unable to initialize because it was configured to use a module that it was not authorized to access. This prevents the ALIA UI component from being activated.

The pod logs confirm a model connection or authentication failure.

### üõ†Ô∏è Resolution: Updating the Chatbot Secret

The configuration for the LLM is stored within the `chatbot-configuration-secret`. The fix is to edit this secret and replace the unauthorized model name with the correct one: `granite-3-2-8b-instruct`.

#### 1. Update the Chatbot Configuration Secret

[.instruction]
====
Edit the `chatbot-configuration-secret` to change the model name.
====

[source,bash]
----
oc edit secret chatbot-configuration-secret -n aap-rh1
----

[source,yaml]
----
# Example structure inside the Secret (update the model name)
data:
  model_name: granite-3-2-8b-instruct # <--- CORRECT VALUE
----

[IMPORTANT]
====
Ensure the model name is correctly set to **`granite-3-2-8b-instruct`**.
====

#### 2. Force Reconciliation

The **Lightspeed Operator** must restart to pick up the changes from the secret.

[.instruction]
====
Delete the `lightspeed operator-manager` pod to force a reconciliation cycle.
====

[source,bash]
----
oc delete pod -n aap-rh1 <lightspeed-operator-manager-pod-name> 
----

#### 3. Verification

Verify the ALIA chat icon has reappeared in the top right of the AAP Gateway UI and responds to a test query.